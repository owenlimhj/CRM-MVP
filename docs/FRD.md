\# Functional Requirements Document (FRD)

\#\# 1\. Overview  
This document specifies the functional requirements for the CRM MVP v1.4.0.    
The system is built on \*\*Google Sheets \+ Apps Script\*\* and provides modular capabilities for Relationship Managers (RMs) to manage customers, sales funnels, opportunities, appointments, staff, and portfolio dashboards.

\---

\#\# 2\. Scope  
\- \*\*In Scope (v1.0 – v1.4.0)\*\*    
  \- Customer management (onboarding, segmentation, AUM calculation).    
  \- Sales funnel management (tracking stages, last contact, stale warnings).    
  \- Opportunity management (deal-level tracking, probability, closure dates).    
  \- Appointment management (meetings, follow-ups, outcomes).    
  \- Staff management (roles, branch mappings, RM assignment).    
  \- AUM dashboard with portfolio breakdown.    
  \- Validation rules (emails, phone numbers, duplicates, AUM consistency).    
  \- Automation via Apps Script for data generation and formula preservation.  

\---

\#\# 3\. Functional Modules

\#\#\# 3.1 Customer Management  
\*\*Description\*\*: Capture, manage, and segment customer profiles.    
\*\*Functions\*\*:  
\- Add new customers (CIF, IC, demographics, contact details).    
\- Calculate AUM (CASA, FD, UT, SP, Bond, Banca, CC).    
\- Assign RM (Staff\_ID reference from Staff\_Master).    
\- Apply segmentation (tier, band, risk profile).  

\#\#\# 3.2 Sales Funnel  
\*\*Description\*\*: Track engagement lifecycle of leads.    
\*\*Functions\*\*:  
\- Record funnel entry per customer/product.    
\- Define funnel stages (e.g., New → Engaged → Converted).    
\- Store RM ownership and last-contact date.    
\- Highlight stale leads (conditional formatting).  

\#\#\# 3.3 Opportunity  
\*\*Description\*\*: Manage deal pipeline and probabilities.    
\*\*Functions\*\*:  
\- Create opportunity records linked to CIF and Funnel\_ID.    
\- Store deal details (product, amount, expected close, probability).    
\- Track days-to-close (formula-driven).    
\- Mark status (Open, Won, Lost).  

\#\#\# 3.4 Appointment  
\*\*Description\*\*: Manage and track customer appointments.    
\*\*Functions\*\*:  
\- Create appointment records linked to CIF and optionally Opportunity.    
\- Record details: type, activity, outcome, notes.    
\- Track status (Scheduled, Completed, Cancelled).    
\- Highlight overdue or missed appointments.  

\#\#\# 3.5 Staff Management  
\*\*Description\*\*: Maintain valid RM/branch data.    
\*\*Functions\*\*:  
\- Add/edit staff details (Staff\_ID, name, role, branch, region, status).    
\- Enforce mapping of Customer, Opportunity, and Funnel records to valid Staff\_ID.    
\- Manage status (Active/Inactive).  

\#\#\# 3.6 Dashboards  
\*\*Description\*\*: Provide portfolio-level insights.    
\*\*Functions\*\*:  
\- Generate pivot-driven AUM\_Dashboard.    
\- Display customer distribution by segment, product holdings, and AUM band.    
\- Provide RM-level and branch-level breakdowns.  

\#\#\# 3.7 Lookups  
\*\*Description\*\*: Standardize reference values.    
\*\*Functions\*\*:  
\- Maintain lookup lists for roles, region, segment, tier, activity type, product, statuses.    
\- Provide dropdown-driven validation across all sheets.  

\---

\#\# 4\. Data Management Rules  
\- \*\*Unique IDs\*\*: Staff\_ID, CIF, Funnel\_ID, Opty\_ID, Appt\_ID must be unique.    
\- \*\*Validation\*\*:    
  \- Email format check.    
  \- Phone number format check.    
  \- No duplicate CIFs.    
  \- Product balance sum must match AUM.    
\- \*\*Protected Ranges\*\*: Critical formulas and calculated fields are locked.    
\- \*\*Generated Data\*\*: Sample realistic datasets generated by Apps Script.  

\---

\#\# 5\. Non-Functional Aspects (Relevant to FRD)  
\- \*\*Performance\*\*: Bulk write operations optimized with Apps Script libraries.    
\- \*\*Scalability\*\*: Modular sheet design and reusable library functions enable future backend migration.    
\- \*\*Usability\*\*: Color-coded statuses, dropdowns, and conditional formatting for clarity.  

\---

\#\# 6\. Dependencies  
\- Google Sheets environment.    
\- Google Apps Script for automation and library functions.    
\- Manual dataset or generated sample data (for MVP).  

\---  
